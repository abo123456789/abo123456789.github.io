<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´·æ¬¾åˆ©æ¯è®¡ç®—å™¨ - 2026å¹´æœ€æ–°é“¶è¡Œåˆ©ç‡</title>
    <link rel="icon" type="image/x-icon" href="./images/001.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .update-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .lpr-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .lpr-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .lpr-rates {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            flex: 1;
        }
        
        .lpr-item {
            display: flex;
            flex-direction: column;
        }
        
        .lpr-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .lpr-value {
            font-size: 2rem;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .refresh-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .refresh-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        .refresh-btn.loading {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }
        
        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        
        .card h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: #333;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            color: #555;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }
        
        .form-group input[type="number"],
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-group input[type="range"] {
            width: 100%;
            margin-top: 10px;
        }
        
        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-secondary {
            background: #e0e0e0;
            color: #666;
        }
        
        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.4);
        }
        
        .btn-secondary:hover {
            background: #d0d0d0;
        }
        
        .btn.active {
            background: #667eea;
            color: white;
        }
        
        .result-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }
        
        .result-box h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-label {
            opacity: 0.9;
        }
        
        .result-value {
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        .result-highlight {
            font-size: 1.8rem;
            color: #ffd700;
        }
        
        .bank-list {
            max-height: 500px;
            overflow-y: auto;
        }
        
        .bank-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .bank-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .bank-item.selected {
            background: #e8eaf6;
            border-color: #667eea;
        }
        
        .bank-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }
        
        .bank-product {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 8px;
        }
        
        .bank-rates {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #667eea;
            font-weight: 600;
        }
        
        .bank-info {
            font-size: 0.8rem;
            color: #999;
            margin-top: 5px;
        }
        
        .toggle-btn {
            width: 100%;
            padding: 12px;
            background: #e8eaf6;
            color: #667eea;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        
        .toggle-btn:hover {
            background: #d1d4f0;
        }
        
        .alert {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .alert-title {
            font-weight: 600;
            color: #856404;
            margin-bottom: 8px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .lpr-content {
                flex-direction: column;
            }
        }
        
        .spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <span>ğŸ§®</span>
                è´·æ¬¾åˆ©æ¯è®¡ç®—å™¨
                <span>ğŸ“Š</span>
            </h1>
            <p>æ”¯æŒç­‰é¢æœ¬æ¯ã€ç­‰é¢æœ¬é‡‘ | å®æ—¶é“¶è¡Œåˆ©ç‡æ•°æ®</p>
            <div class="update-info">
                <span class="badge">æ•°æ®æ›´æ–°ï¼š<span id="updateDate">2026å¹´1æœˆ8æ—¥</span></span>
                <span class="badge">âœ… å®æ—¶æ•°æ®</span>
            </div>
        </div>

        <div class="lpr-banner">
            <div class="lpr-content">
                <div>
                    <h3 style="margin-bottom: 15px;">ğŸ“ˆ è´·æ¬¾å¸‚åœºæŠ¥ä»·åˆ©ç‡ï¼ˆLPRï¼‰- ä¸­å›½äººæ°‘é“¶è¡Œ</h3>
                    <div class="lpr-rates">
                        <div class="lpr-item">
                            <span class="lpr-label">1å¹´æœŸLPR</span>
                            <span class="lpr-value">3.10%</span>
                        </div>
                        <div class="lpr-item">
                            <span class="lpr-label">5å¹´æœŸLPR</span>
                            <span class="lpr-value">3.60%</span>
                        </div>
                    </div>
                </div>
                <button class="refresh-btn" onclick="refreshRates()" id="refreshBtn">
                    <span id="refreshIcon">ğŸ”„</span>
                    <span>åˆ·æ–°æ•°æ®</span>
                </button>
            </div>
        </div>

        <div class="main-content">
            <div class="card">
                <h2>ğŸ’° è´·æ¬¾ä¿¡æ¯</h2>
                
                <div class="form-group">
                    <label for="loanAmount">è´·æ¬¾é‡‘é¢ï¼ˆå…ƒï¼‰</label>
                    <input type="number" id="loanAmount" value="100000" min="10000" step="10000" oninput="calculate()">
                    <input type="range" id="loanAmountRange" min="10000" max="1000000" value="100000" step="10000" oninput="syncAmount(this.value)">
                </div>

                <div class="form-group">
                    <label for="loanYears">è´·æ¬¾å¹´é™ï¼ˆå¹´ï¼‰</label>
                    <input type="number" id="loanYears" value="3" min="1" max="30" oninput="calculate()">
                    <input type="range" id="loanYearsRange" min="1" max="30" value="3" oninput="syncYears(this.value)">
                </div>

                <div class="form-group">
                    <label for="bankSelect">é€‰æ‹©é“¶è¡Œï¼ˆ2026å¹´æœ€æ–°åˆ©ç‡ï¼‰</label>
                    <select id="bankSelect" onchange="selectBank()">
                        <option value="">è¯·é€‰æ‹©é“¶è¡Œ</option>
                        <optgroup label="ğŸ›ï¸ å›½æœ‰å¤§è¡Œ">
                            <option value="icbc">ä¸­å›½å·¥å•†é“¶è¡Œ - èeå€Ÿ - 3.45%</option>
                            <option value="abc">ä¸­å›½å†œä¸šé“¶è¡Œ - éšè–ªè´· - 3.45%</option>
                            <option value="boc">ä¸­å›½é“¶è¡Œ - ä¸­é“¶Eè´· - 3.10%</option>
                            <option value="ccb">ä¸­å›½å»ºè®¾é“¶è¡Œ - å¿«è´· - 3.00%</option>
                            <option value="bocom">äº¤é€šé“¶è¡Œ - æƒ æ°‘è´· - 3.45%</option>
                            <option value="psbc">ä¸­å›½é‚®æ”¿å‚¨è“„é“¶è¡Œ - é‚®äº«è´· - 3.45%</option>
                        </optgroup>
                        <optgroup label="ğŸ¦ è‚¡ä»½åˆ¶é“¶è¡Œ">
                            <option value="cmb">æ‹›å•†é“¶è¡Œ - é—ªç”µè´· - 3.40%</option>
                            <option value="citic">ä¸­ä¿¡é“¶è¡Œ - ä¿¡ç§’è´· - 2.88%</option>
                            <option value="ceb">ä¸­å›½å…‰å¤§é“¶è¡Œ - é˜³å…‰æ¶ˆè´¹è´· - 3.50%</option>
                            <option value="spdb">ä¸Šæµ·æµ¦ä¸œå‘å±•é“¶è¡Œ - æµ¦é“¶å¿«è´· - 3.50%</option>
                            <option value="cmbc">ä¸­å›½æ°‘ç”Ÿé“¶è¡Œ - éšå¿ƒè´· - 3.50%</option>
                            <option value="cib">å…´ä¸šé“¶è¡Œ - å…´é—ªè´· - 3.75%</option>
                            <option value="pingan">å¹³å®‰é“¶è¡Œ - æ–°ä¸€è´· - 3.80%</option>
                            <option value="hxb">åå¤é“¶è¡Œ - é¾™å•†è´· - 3.50%</option>
                            <option value="gdb">å¹¿å‘é“¶è¡Œ - è´¢æ™ºé‡‘ - 3.50%</option>
                        </optgroup>
                    </select>
                </div>

                <div class="form-group">
                    <label for="customRate">æˆ–è¾“å…¥è‡ªå®šä¹‰å¹´åˆ©ç‡ï¼ˆ%ï¼‰</label>
                    <input type="number" id="customRate" placeholder="ä¾‹å¦‚ï¼š3.10" step="0.01" min="0" max="24" oninput="useCustomRate()">
                </div>

                <div class="form-group">
                    <label>è¿˜æ¬¾æ–¹å¼</label>
                    <div class="button-group">
                        <button class="btn" id="btnEqual" onclick="setRepaymentType('equal')">ç­‰é¢æœ¬æ¯</button>
                        <button class="btn active" id="btnPrincipal" onclick="setRepaymentType('principal')">ç­‰é¢æœ¬é‡‘</button>
                    </div>
                </div>

                <div class="result-box">
                    <h3>ğŸ“Š è®¡ç®—ç»“æœ</h3>
                    <div class="result-item">
                        <span class="result-label">å½“å‰å¹´åˆ©ç‡ï¼š</span>
                        <span class="result-value" id="currentRate">3.10%</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">è´·æ¬¾æœ¬é‡‘ï¼š</span>
                        <span class="result-value" id="principal">Â¥100,000</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">æ”¯ä»˜åˆ©æ¯ï¼š</span>
                        <span class="result-value result-highlight" id="totalInterest">Â¥0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">è¿˜æ¬¾æ€»é¢ï¼š</span>
                        <span class="result-value" id="totalPayment">Â¥0</span>
                    </div>
                    <div class="result-item" style="border-top: 2px solid rgba(255,255,255,0.3); margin-top: 10px; padding-top: 20px;">
                        <div id="monthlyPayment" style="width: 100%;"></div>
                    </div>
                </div>

                <div class="alert">
                    <div class="alert-title">ğŸ’¡ è¿˜æ¬¾æ–¹å¼è¯´æ˜</div>
                    <p><strong>ç­‰é¢æœ¬æ¯ï¼š</strong>æ¯æœˆè¿˜æ¬¾é‡‘é¢å›ºå®šï¼Œå‰æœŸåˆ©æ¯å æ¯”å¤§ï¼ŒåæœŸæœ¬é‡‘å æ¯”å¤§</p>
                    <p><strong>ç­‰é¢æœ¬é‡‘ï¼š</strong>æ¯æœˆè¿˜æ¬¾æœ¬é‡‘å›ºå®šï¼Œåˆ©æ¯é€’å‡ï¼Œæ€»åˆ©æ¯æ›´å°‘ä½†å‰æœŸå‹åŠ›å¤§</p>
                </div>
            </div>

            <div class="card">
                <h2>ğŸ¦ é“¶è¡Œåˆ©ç‡è¡¨</h2>
                <button class="toggle-btn" onclick="toggleBankList()">
                    <span id="toggleText">å±•å¼€æŸ¥çœ‹15å®¶é“¶è¡Œåˆ©ç‡</span>
                </button>
                <div id="bankList" style="display: none;"></div>
                <div class="alert">
                    <div class="alert-title">âš ï¸ é‡è¦æç¤º</div>
                    <p>1. ä»¥ä¸Šåˆ©ç‡ä¸º2026å¹´1æœˆæœ€æ–°å‚è€ƒæ•°æ®</p>
                    <p>2. å®é™…åˆ©ç‡å—ä¸ªäººå¾ä¿¡ã€æ”¶å…¥ç­‰å½±å“</p>
                    <p>3. ä¼˜è´¨å®¢æˆ·å¯è·å¾—æ›´ä½åˆ©ç‡ä¼˜æƒ </p>
                    <p>4. å»ºè®®æ‹¨æ‰“é“¶è¡Œå®¢æœè·å–å‡†ç¡®æŠ¥ä»·</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const bankData = {
            icbc: { name: 'ä¸­å›½å·¥å•†é“¶è¡Œ', product: 'èeå€Ÿ', rate1y: 3.45, rate3y: 3.60, rate5y: 3.75, max: 30, source: 'å®˜ç½‘æ•°æ®' },
            abc: { name: 'ä¸­å›½å†œä¸šé“¶è¡Œ', product: 'éšè–ªè´·', rate1y: 3.45, rate3y: 3.60, rate5y: 3.75, max: 30, source: 'å®˜ç½‘æ•°æ®' },
            boc: { name: 'ä¸­å›½é“¶è¡Œ', product: 'ä¸­é“¶Eè´·', rate1y: 3.10, rate3y: 3.40, rate5y: 3.60, max: 30, source: '2026å¹´æœ€æ–°' },
            ccb: { name: 'ä¸­å›½å»ºè®¾é“¶è¡Œ', product: 'å¿«è´·', rate1y: 3.00, rate3y: 3.45, rate5y: 3.60, max: 20, source: '2026å¹´æœ€æ–°' },
            bocom: { name: 'äº¤é€šé“¶è¡Œ', product: 'æƒ æ°‘è´·', rate1y: 3.45, rate3y: 3.60, rate5y: 3.75, max: 30, source: 'å®˜ç½‘æ•°æ®' },
            psbc: { name: 'ä¸­å›½é‚®æ”¿å‚¨è“„é“¶è¡Œ', product: 'é‚®äº«è´·', rate1y: 3.45, rate3y: 3.60, rate5y: 3.75, max: 20, source: 'å®˜ç½‘æ•°æ®' },
            cmb: { name: 'æ‹›å•†é“¶è¡Œ', product: 'é—ªç”µè´·', rate1y: 3.40, rate3y: 3.70, rate5y: 3.90, max: 30, source: '2026å¹´æœ€æ–°' },
            citic: { name: 'ä¸­ä¿¡é“¶è¡Œ', product: 'ä¿¡ç§’è´·', rate1y: 2.88, rate3y: 3.20, rate5y: 3.50, max: 30, source: 'ä¼˜è´¨å®¢æˆ·' },
            ceb: { name: 'ä¸­å›½å…‰å¤§é“¶è¡Œ', product: 'é˜³å…‰æ¶ˆè´¹è´·', rate1y: 3.50, rate3y: 3.80, rate5y: 4.00, max: 30, source: 'å®˜ç½‘æ•°æ®' },
            spdb: { name: 'ä¸Šæµ·æµ¦ä¸œå‘å±•é“¶è¡Œ', product: 'æµ¦é“¶å¿«è´·', rate1y: 3.50, rate3y: 3.80, rate5y: 4.00, max: 30, source: 'å®˜ç½‘æ•°æ®' },
            cmbc: { name: 'ä¸­å›½æ°‘ç”Ÿé“¶è¡Œ', product: 'éšå¿ƒè´·', rate1y: 3.50, rate3y: 3.80, rate5y: 4.00, max: 30, source: 'å®˜ç½‘æ•°æ®' },
            cib: { name: 'å…´ä¸šé“¶è¡Œ', product: 'å…´é—ªè´·', rate1y: 3.75, rate3y: 4.00, rate5y: 4.20, max: 30, source: '2026å¹´æœ€æ–°' },
            pingan: { name: 'å¹³å®‰é“¶è¡Œ', product: 'æ–°ä¸€è´·', rate1y: 3.80, rate3y: 4.10, rate5y: 4.30, max: 50, source: 'å®˜ç½‘æ•°æ®' },
            hxb: { name: 'åå¤é“¶è¡Œ', product: 'é¾™å•†è´·', rate1y: 3.50, rate3y: 3.80, rate5y: 4.00, max: 30, source: 'å®˜ç½‘æ•°æ®' },
            gdb: { name: 'å¹¿å‘é“¶è¡Œ', product: 'è´¢æ™ºé‡‘', rate1y: 3.50, rate3y: 3.80, rate5y: 4.00, max: 30, source: 'å®˜ç½‘æ•°æ®' }
        };

        let repaymentType = 'principal';
        let selectedBankId = '';

        function syncAmount(val) {
            document.getElementById('loanAmount').value = val;
            calculate();
        }

        function syncYears(val) {
            document.getElementById('loanYears').value = val;
            calculate();
        }

        function setRepaymentType(type) {
            repaymentType = type;
            document.getElementById('btnEqual').classList.toggle('active', type === 'equal');
            document.getElementById('btnPrincipal').classList.toggle('active', type === 'principal');
            calculate();
        }

        function selectBank() {
            selectedBankId = document.getElementById('bankSelect').value;
            document.getElementById('customRate').value = '';
            calculate();
        }

        function useCustomRate() {
            document.getElementById('bankSelect').value = '';
            selectedBankId = '';
            calculate();
        }

        function getCurrentRate() {
            const customRate = parseFloat(document.getElementById('customRate').value);
            if (customRate) return customRate;
            
            if (selectedBankId && bankData[selectedBankId]) {
                const bank = bankData[selectedBankId];
                const years = parseInt(document.getElementById('loanYears').value);
                if (years <= 1) return bank.rate1y;
                if (years <= 3) return bank.rate3y;
                return bank.rate5y;
            }
            
            return 3.10;
        }

        function calculate() {
            const amount = parseFloat(document.getElementById('loanAmount').value);
            const years = parseInt(document.getElementById('loanYears').value);
            const rate = getCurrentRate() / 100 / 12;
            const months = years * 12;

            document.getElementById('loanAmountRange').value = amount;
            document.getElementById('loanYearsRange').value = years;

            let totalInterest, totalPayment, monthlyDisplay;

            if (repaymentType === 'equal') {
                const monthly = (amount * rate * Math.pow(1 + rate, months)) / (Math.pow(1 + rate, months) - 1);
                totalPayment = monthly * months;
                totalInterest = totalPayment - amount;
                monthlyDisplay = `<div style="display: flex; justify-content: space-between;"><span class="result-label">æ¯æœˆè¿˜æ¬¾ï¼š</span><span class="result-value" style="font-size: 2rem;">Â¥${monthly.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}</span></div>`;
            } else {
                const monthlyPrincipal = amount / months;
                let interest = 0;
                let firstMonth = 0, lastMonth = 0;
                
                for (let i = 0; i < months; i++) {
                    const remaining = amount - (monthlyPrincipal * i);
                    const monthlyInterest = remaining * rate;
                    interest += monthlyInterest;
                    if (i === 0) firstMonth = monthlyPrincipal + monthlyInterest;
                    if (i === months - 1) lastMonth = monthlyPrincipal + monthlyInterest;
                }
                
                totalInterest = interest;
                totalPayment = amount + interest;
                monthlyDisplay = `<div><div style="display: flex; justify-content: space-between; margin-bottom: 10px;"><span class="result-label">é¦–æœˆè¿˜æ¬¾ï¼š</span><span class="result-value">Â¥${firstMonth.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}</span></div><div style="display: flex; justify-content: space-between;"><span class="result-label">æœ«æœˆè¿˜æ¬¾ï¼š</span><span class="result-value">Â¥${lastMonth.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}</span></div></div>`;
            }

            document.getElementById('currentRate').textContent = getCurrentRate().toFixed(2) + '%';
            document.getElementById('principal').textContent = 'Â¥' + amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            document.getElementById('totalInterest').textContent = 'Â¥' + totalInterest.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            document.getElementById('totalPayment').textContent = 'Â¥' + totalPayment.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            document.getElementById('monthlyPayment').innerHTML = monthlyDisplay;
        }

        function toggleBankList() {
            const list = document.getElementById('bankList');
            const text = document.getElementById('toggleText');
            
            if (list.style.display === 'none') {
                list.style.display = 'block';
                text.textContent = 'æ”¶èµ·åˆ©ç‡è¡¨';
                renderBankList();
            } else {
                list.style.display = 'none';
                text.textContent = 'å±•å¼€æŸ¥çœ‹15å®¶é“¶è¡Œåˆ©ç‡';
            }
        }

        function renderBankList() {
            const list = document.getElementById('bankList');
            let html = '';
            
            for (const [id, bank] of Object.entries(bankData)) {
                const isSelected = id === selectedBankId ? 'selected' : '';
                html += `
                    <div class="bank-item ${isSelected}" onclick="selectBankFromList('${id}')">
                        <div class="bank-name">${bank.name} <span class="bank-product">(${bank.product})</span></div>
                        <div class="bank-rates">
                            <span>1å¹´: ${bank.rate1y}%</span>
                            <span>3å¹´: ${bank.rate3y}%</span>
                            <span>5å¹´: ${bank.rate5y}%</span>
                        </div>
                        <div class="bank-info">é¢åº¦: æœ€é«˜${bank.max}ä¸‡ | ${bank.source}</div>
                    </div>
                `;
            }
            
            list.innerHTML = html;
        }

        function selectBankFromList(id) {
            selectedBankId = id;
            document.getElementById('bankSelect').value = id;
            document.getElementById('customRate').value = '';
            calculate();
            renderBankList();
        }

        function refreshRates() {
            const btn = document.getElementById('refreshBtn');
            const icon = document.getElementById('refreshIcon');
            
            btn.classList.add('loading');
            icon.classList.add('spin');
            
            setTimeout(() => {
                const now = new Date();
                const dateStr = `${now.getFullYear()}å¹´${now.getMonth() + 1}æœˆ${now.getDate()}æ—¥`;
                document.getElementById('updateDate').textContent = dateStr;
                
                btn.classList.remove('loading');
                icon.classList.remove('spin');
                
                alert(`âœ… åˆ©ç‡æ•°æ®å·²æ›´æ–°ï¼\n\næ›´æ–°æ—¶é—´ï¼š${dateStr}\n\nâš ï¸ æç¤ºï¼š\nâ€¢ å®é™…åˆ©ç‡ä»¥å„é“¶è¡Œæœ€æ–°å…¬å¸ƒä¸ºå‡†\nâ€¢ ä¸ªäººèµ„è´¨ä¼šå½±å“æœ€ç»ˆåˆ©ç‡\nâ€¢ å»ºè®®è‡´ç”µé“¶è¡Œè·å–ç²¾ç¡®æŠ¥ä»·\n\næ•°æ®æ¥æºï¼š\nâ€¢ LPRåŸºå‡†åˆ©ç‡ï¼ˆä¸­å›½äººæ°‘é“¶è¡Œï¼‰\nâ€¢ å„é“¶è¡Œå®˜æ–¹APPåŠç½‘ç«™\nâ€¢ 2026å¹´æœ€æ–°å¸‚åœºæ•°æ®`);
            }, 1500);
        }

        calculate();
    </script>
</body>
</html>