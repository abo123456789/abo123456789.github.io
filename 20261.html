<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2026年除夕倒计时</title>
  <style>
    :root{
      --bg-0:#240000;
      --bg-1:#5a0000;
      --bg-2:#9b0f0f;
      --paper:#c31a1a;
      --paper-deep:#8c0b0b;
      --ink:#fff6dc;
      --gold:#ffd36b;
      --gold-deep:#bf8b18;
      --shadow: rgba(0,0,0,.35);
      --line: rgba(255,211,107,.35);
      --glass: rgba(255,255,255,.08);
      --glass-2: rgba(0,0,0,.12);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "STSong", "SimSun", "Songti SC", "Noto Serif SC", "Microsoft YaHei", sans-serif;
      color: var(--ink);
      background:
        radial-gradient(1200px 900px at 20% 15%, rgba(255,211,107,.14), transparent 60%),
        radial-gradient(900px 700px at 85% 80%, rgba(255,211,107,.10), transparent 55%),
        radial-gradient(700px 900px at 55% 10%, rgba(255,255,255,.06), transparent 60%),
        linear-gradient(135deg, var(--bg-0) 0%, var(--bg-1) 45%, var(--bg-2) 100%);
      overflow:hidden;
    }

    .stage{
      position:relative;
      height:100%;
      display:grid;
      place-items:center;
      padding: clamp(18px, 3.5vw, 44px);
    }

    .grain, .vignette{
      position:fixed; inset:0; pointer-events:none;
    }

    .grain{
      opacity:.18;
      mix-blend-mode:overlay;
      background-image:
        repeating-linear-gradient(0deg, rgba(255,255,255,.045) 0px, rgba(255,255,255,.045) 1px, transparent 1px, transparent 3px),
        repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0px, rgba(0,0,0,.06) 1px, transparent 1px, transparent 4px),
        radial-gradient(circle at 35% 25%, rgba(255,211,107,.10), transparent 60%),
        radial-gradient(circle at 70% 80%, rgba(0,0,0,.22), transparent 55%);
    }

    .vignette{
      background: radial-gradient(circle at 50% 42%, rgba(0,0,0,0) 0%, rgba(0,0,0,.20) 65%, rgba(0,0,0,.45) 100%);
    }

    canvas#fx{
      position:fixed; inset:0;
      width:100%; height:100%;
      pointer-events:none;
    }

    .lantern{
      position:fixed;
      top: clamp(12px, 2vw, 24px);
      width: clamp(54px, 6.4vw, 86px);
      height: clamp(74px, 8.6vw, 122px);
      border-radius: 54% 54% 50% 50% / 62% 62% 42% 42%;
      background:
        radial-gradient(120% 80% at 32% 16%, rgba(255,255,255,.22), rgba(255,255,255,0) 60%),
        radial-gradient(90% 75% at 68% 82%, rgba(0,0,0,.30), rgba(0,0,0,0) 62%),
        radial-gradient(120% 120% at 50% 40%, rgba(255,211,107,.10), rgba(255,211,107,0) 62%),
        linear-gradient(90deg,
          rgba(0,0,0,.30) 0%,
          rgba(0,0,0,0) 18%,
          rgba(255,255,255,.10) 50%,
          rgba(0,0,0,0) 82%,
          rgba(0,0,0,.28) 100%
        ),
        repeating-linear-gradient(90deg,
          rgba(255,255,255,.09) 0px,
          rgba(255,255,255,.09) 5px,
          rgba(0,0,0,.12) 5px,
          rgba(0,0,0,.12) 10px
        ),
        linear-gradient(180deg, rgba(255,120,120,.98), rgba(195,26,26,.94) 52%, rgba(120,6,6,.98));
      box-shadow:
        0 16px 46px rgba(0,0,0,.26),
        0 0 36px rgba(255,211,107,.22),
        inset 0 0 0 1px rgba(255,211,107,.18),
        inset 16px 0 30px rgba(255,255,255,.06),
        inset -18px 0 34px rgba(0,0,0,.18),
        inset 0 -22px 44px rgba(0,0,0,.22);
      border:1px solid rgba(255,211,107,.30);
      transform-origin: 50% -40px;
      animation: lanternSwing 3.6s ease-in-out infinite;
      z-index:2;
    }
    .lantern{
      isolation:isolate;
    }
    .lantern .fu{
      position:absolute;
      inset: 0;
      display:grid;
      place-items:center;
      font-family: "KaiTi","STKaiti",serif;
      font-size: clamp(1.15rem, 1.8vw, 1.55rem);
      letter-spacing: .24rem;
      color: rgba(255,211,107,.92);
      text-shadow:
        0 0 18px rgba(255,211,107,.22),
        0 2px 10px rgba(0,0,0,.35);
      transform: translateY(4px);
      opacity:.95;
      user-select:none;
      z-index:1;
    }
    .lantern::before{
      content:"";
      position:absolute;
      top:-18px; left:50%;
      transform:translateX(-50%);
      width: 26px; height: 18px;
      border-radius: 6px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%),
        linear-gradient(180deg, var(--gold), var(--gold-deep));
      box-shadow:
        0 10px 18px rgba(0,0,0,.22),
        inset 0 0 0 1px rgba(255,255,255,.10);
    }
    .lantern::after{
      content:"";
      position:absolute;
      bottom:-12px; left:50%;
      transform:translateX(-50%);
      width: 30px; height: 14px;
      border-radius: 7px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.20), rgba(255,255,255,0) 55%),
        linear-gradient(180deg, var(--gold), rgba(191,139,24,.95));
      box-shadow: 0 10px 18px rgba(0,0,0,.22);
    }
    .lantern .tassel{
      position:absolute;
      bottom:-86px; left:50%;
      transform: translateX(-50%);
      width: 14px; height: 46px;
      border-radius: 0 0 10px 10px;
      background:
        repeating-linear-gradient(180deg, rgba(255,211,107,.95) 0 4px, rgba(255,211,107,.55) 4px 8px);
      filter: drop-shadow(0 8px 10px rgba(0,0,0,.22));
    }
    .lantern .tassel::before{
      content:"";
      position:absolute;
      top:-38px;
      left:50%;
      transform: translateX(-50%);
      width: 4px;
      height: 42px;
      border-radius: 999px;
      background: linear-gradient(180deg, var(--gold), rgba(191,139,24,.92));
      box-shadow: 0 10px 18px rgba(0,0,0,.18);
    }
    .lantern .tassel::after{
      content:"";
      position:absolute;
      left:50%;
      bottom:-14px;
      transform: translateX(-50%);
      width: 36px;
      height: 16px;
      border-radius: 0 0 10px 10px;
      background:
        repeating-linear-gradient(90deg, rgba(255,211,107,.85) 0 4px, rgba(255,211,107,.25) 4px 8px);
      opacity:.95;
    }
    .lantern.left{ left: clamp(10px, 3vw, 32px); animation-delay: .2s; }
    .lantern.right{ right: clamp(10px, 3vw, 32px); animation-delay: .65s; }
    @keyframes lanternSwing{
      0%,100%{ transform: rotate(-4deg) }
      50%{ transform: rotate(4deg) }
    }

    .couplet{
      position:fixed;
      top: 50%;
      transform: translateY(-50%);
      width: 76px;
      height: min(600px, 74vh);
      border-radius: 14px;
      background:
        radial-gradient(900px circle at 20% 10%, rgba(255,211,107,.14), transparent 55%),
        linear-gradient(180deg, rgba(255,120,120,.94), rgba(195,26,26,.92) 45%, rgba(120,6,6,.95));
      border: 2px solid rgba(255,211,107,.55);
      box-shadow:
        0 18px 50px rgba(0,0,0,.35),
        inset 0 0 44px rgba(255,211,107,.10);
      display:grid;
      place-items:center;
      padding: 18px 10px;
      z-index:2;
      animation: coupletFloat 6.5s ease-in-out infinite;
    }
    .couplet span{
      writing-mode: vertical-rl;
      text-orientation: mixed;
      font-family: "KaiTi","STKaiti","SimSun",serif;
      font-size: 1.38rem;
      letter-spacing: .38rem;
      color: rgba(255,246,220,.96);
      text-shadow: 0 2px 10px rgba(0,0,0,.35);
    }
    .couplet::before{
      content:"";
      position:absolute;
      top:-14px; left:50%;
      transform: translateX(-50%);
      width: 26px; height: 26px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff1b8, var(--gold) 55%, var(--gold-deep) 100%);
      box-shadow: 0 12px 22px rgba(0,0,0,.25);
    }
    .couplet.left{ left: clamp(10px, 2.6vw, 28px); }
    .couplet.right{ right: clamp(10px, 2.6vw, 28px); }
    @keyframes coupletFloat{
      0%,100%{ transform: translateY(-50%) rotate(-1deg) }
      50%{ transform: translateY(calc(-50% - 12px)) rotate(1deg) }
    }

    .knot{
      position:fixed;
      top: 14px;
      left: 50%;
      transform: translateX(-50%);
      width: clamp(90px, 12vw, 140px);
      height: clamp(90px, 12vw, 140px);
      z-index:2;
      filter: drop-shadow(0 18px 26px rgba(0,0,0,.28));
    }

    .card{
      width: min(980px, 92vw);
      border-radius: 26px;
      padding: clamp(20px, 3.2vw, 44px);
      position:relative;
      background:
        radial-gradient(1000px 650px at 25% 20%, rgba(255,211,107,.16), transparent 60%),
        radial-gradient(800px 540px at 80% 75%, rgba(255,255,255,.07), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.16));
      border: 1px solid rgba(255,211,107,.28);
      box-shadow:
        0 24px 70px rgba(0,0,0,.42),
        inset 0 0 70px rgba(255,211,107,.08);
      backdrop-filter: blur(8px);
      z-index:1;
      overflow:hidden;
    }

    .paper-cut{
      position:absolute;
      inset:-80px -140px auto auto;
      width: 380px;
      height: 380px;
      transform: rotate(10deg);
      opacity:.22;
      background:
        radial-gradient(circle at 50% 50%, rgba(255,255,255,.10) 0 18%, transparent 18% 26%, rgba(255,255,255,.09) 26% 30%, transparent 30% 100%),
        conic-gradient(from 25deg, rgba(255,255,255,.10), rgba(255,255,255,0) 40%, rgba(255,255,255,.10) 70%, rgba(255,255,255,0) 100%);
      border-radius: 50%;
      filter: blur(.2px);
    }
    .paper-cut svg{
      width:100%;
      height:100%;
      display:block;
    }

    .hongbao-stack{
      position:absolute;
      right: 18px;
      bottom: 16px;
      width: 142px;
      height: 118px;
      z-index:1;
      pointer-events:none;
      filter: drop-shadow(0 18px 28px rgba(0,0,0,.28));
    }
    .hongbao{
      position:absolute;
      width: 96px;
      height: 120px;
      border-radius: 14px;
      background:
        radial-gradient(circle at 30% 22%, rgba(255,255,255,.22), transparent 45%),
        linear-gradient(180deg, rgba(255,120,120,.96), rgba(195,26,26,.94) 55%, rgba(120,6,6,.96));
      border: 1px solid rgba(255,211,107,.30);
      box-shadow: inset 0 0 34px rgba(255,211,107,.08);
      transform-origin: 50% 100%;
      animation: hongbaoFloat 4.8s ease-in-out infinite;
    }
    .hongbao::before{
      content:"";
      position:absolute;
      left: 10px; right: 10px;
      top: 46px;
      height: 10px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,211,107,.95), rgba(191,139,24,.95));
      opacity:.9;
    }
    .hongbao::after{
      content:"福";
      position:absolute;
      left: 50%;
      top: 60px;
      transform: translateX(-50%) rotate(-12deg);
      width: 46px;
      height: 46px;
      border-radius: 14px;
      display:grid;
      place-items:center;
      font-family: "KaiTi","STKaiti",serif;
      font-size: 1.45rem;
      letter-spacing: .24rem;
      color: rgba(255,246,220,.96);
      background: rgba(0,0,0,.12);
      border: 1px solid rgba(255,211,107,.22);
      box-shadow: inset 0 0 22px rgba(255,211,107,.06);
    }
    .hongbao.back{
      left: 0;
      top: 6px;
      opacity:.92;
      animation-delay: .35s;
    }
    .hongbao.front{
      left: 44px;
      top: -6px;
    }
    @keyframes hongbaoFloat{
      0%,100%{ transform: translateY(0) rotate(var(--r, 0deg)) scale(var(--s, 1)); }
      50%{ transform: translateY(-6px) rotate(calc(var(--r, 0deg) * -1)) scale(var(--s, 1)); }
    }
    .hongbao.back{ --r: -8deg; --s: .95; }
    .hongbao.front{ --r: 8deg; --s: 1; }

    .top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 18px;
      flex-wrap:wrap;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap: 10px;
      min-width: 280px;
    }

    .title{
      margin:0;
      font-family: "KaiTi","STKaiti","SimHei","Microsoft YaHei",sans-serif;
      font-size: clamp(2.2rem, 3.8vw, 3.6rem);
      letter-spacing: .32rem;
      color: var(--gold);
      text-shadow:
        0 0 18px rgba(255,211,107,.34),
        0 2px 16px rgba(0,0,0,.35);
    }

    .sub{
      display:flex;
      flex-wrap:wrap;
      gap: 10px 14px;
      color: rgba(255,246,220,.90);
      letter-spacing:.12rem;
      font-size: 1.02rem;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,211,107,.28);
      background: rgba(255,255,255,.06);
      box-shadow: inset 0 0 26px rgba(255,211,107,.08);
      user-select:none;
    }

    .badge .dot{
      width:10px;height:10px;border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #fff1b8, var(--gold) 60%, var(--gold-deep));
      box-shadow: 0 0 14px rgba(255,211,107,.5);
    }

    .seal{
      width: 92px;
      height: 92px;
      border-radius: 14px;
      background:
        radial-gradient(circle at 32% 28%, rgba(255,255,255,.18), transparent 42%),
        rgba(139, 0, 0, .78);
      border: 2px solid rgba(255,211,107,.35);
      box-shadow: 0 18px 42px rgba(0,0,0,.34);
      display:grid;
      place-items:center;
      transform: rotate(-7deg);
      margin-left:auto;
    }
    .seal span{
      font-family:"KaiTi","STKaiti",serif;
      font-size: 1.2rem;
      letter-spacing: .26rem;
      color: rgba(255,246,220,.95);
      text-shadow: 0 2px 10px rgba(0,0,0,.35);
    }

    .grid{
      margin-top: clamp(18px, 2.6vw, 32px);
      display:grid;
      grid-template-columns: 1.25fr .95fr;
      gap: clamp(16px, 2.4vw, 26px);
      align-items:stretch;
    }

    .panel{
      border-radius: 22px;
      border: 1px solid rgba(255,211,107,.22);
      background:
        radial-gradient(900px circle at 30% 25%, rgba(255,211,107,.10), transparent 60%),
        rgba(0,0,0,.10);
      box-shadow:
        0 18px 50px rgba(0,0,0,.30),
        inset 0 0 44px rgba(255,211,107,.07);
      padding: clamp(14px, 2.2vw, 22px);
      position:relative;
      overflow:hidden;
    }

    .panel h2{
      margin:0 0 10px 0;
      font-family: "KaiTi","STKaiti","SimHei",sans-serif;
      letter-spacing: .18rem;
      font-weight: 700;
      color: rgba(255,246,220,.95);
      font-size: 1.35rem;
    }

    .rings{
      display:grid;
      grid-template-columns: repeat(4, minmax(120px, 1fr));
      gap: clamp(12px, 2vw, 18px);
      margin-top: 12px;
    }

    .ring{
      border-radius: 18px;
      padding: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.10));
      border: 1px solid rgba(255,211,107,.18);
      display:grid;
      place-items:center;
      gap:10px;
      position:relative;
      overflow: visible;
    }

    .dial{
      width: 104px;
      height: 104px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 50% 50%, rgba(0,0,0,.55) 0 52%, transparent 52% 100%),
        conic-gradient(from -90deg, rgba(255,211,107,.92) var(--p), rgba(255,211,107,.14) 0);
      box-shadow:
        inset 0 0 0 1px rgba(255,211,107,.22),
        0 18px 36px rgba(0,0,0,.35);
      display:grid;
      place-items:center;
      position:relative;
    }

    .dial::before{
      content:"";
      position:absolute;
      inset: 10px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 30% 28%, rgba(255,255,255,.14), transparent 55%),
        radial-gradient(circle at 50% 55%, rgba(255,211,107,.09), transparent 58%),
        rgba(0,0,0,.35);
      box-shadow: inset 0 0 0 1px rgba(255,211,107,.14);
    }

    .value{
      position:relative;
      font-variant-numeric: tabular-nums;
      font-size: 1.85rem;
      line-height: 1;
      letter-spacing:.08rem;
      color: rgba(255,246,220,.96);
      text-shadow: 0 2px 10px rgba(0,0,0,.35);
    }

    .label{
      font-size: 1rem;
      line-height: 1.15;
      padding-bottom: 2px;
      letter-spacing: .18rem;
      color: rgba(255,246,220,.82);
    }

    .wish{
      margin-top: 12px;
      padding-top: 14px;
      border-top: 1px dashed rgba(255,211,107,.20);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      flex-wrap:wrap;
    }

    .wish .line{
      font-family: "KaiTi","STKaiti","SimHei",sans-serif;
      font-size: 1.35rem;
      letter-spacing: .22rem;
      color: rgba(255,246,220,.96);
      text-shadow: 0 2px 16px rgba(0,0,0,.35);
    }

    .hint{
      font-size: .95rem;
      letter-spacing: .10rem;
      color: rgba(255,246,220,.74);
    }

    .meta{
      display:grid;
      gap: 12px;
      align-content:start;
    }

    .meta .cardlet{
      border-radius: 18px;
      border: 1px solid rgba(255,211,107,.18);
      background: rgba(0,0,0,.10);
      padding: 14px 14px;
      box-shadow: inset 0 0 34px rgba(255,211,107,.06);
    }

    .meta .k{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,211,107,.14);
    }
    .meta .k:last-child{ border-bottom:0 }
    .meta .k .l{
      color: rgba(255,246,220,.78);
      letter-spacing: .12rem;
    }
    .meta .k .r{
      color: rgba(255,211,107,.92);
      letter-spacing: .10rem;
      font-variant-numeric: tabular-nums;
      text-align:right;
    }

    .marquee{
      margin-top: 14px;
      border-radius: 14px;
      overflow:hidden;
      border: 1px solid rgba(255,211,107,.16);
      background: rgba(0,0,0,.10);
    }
    .marquee .track{
      display:flex;
      gap: 20px;
      padding: 10px 0;
      white-space:nowrap;
      animation: scroll 18s linear infinite;
      will-change: transform;
    }
    .marquee .item{
      padding: 0 18px;
      letter-spacing:.18rem;
      color: rgba(255,246,220,.85);
    }
    @keyframes scroll{
      from{ transform: translateX(0) }
      to{ transform: translateX(-50%) }
    }

    .foot{
      margin-top: 14px;
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      color: rgba(255,246,220,.62);
      letter-spacing: .08rem;
      font-size: .92rem;
    }

    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
      .seal{ margin-left: 0; }
    }

    @media (max-width: 560px){
      .rings{ grid-template-columns: repeat(2, minmax(120px, 1fr)); }
      .couplet{ display:none }
      .knot{ display:none }
      .hongbao-stack{ display:none }
    }

    @media (max-width: 420px){
      .card{
        width: 94vw;
        padding: 16px;
        border-radius: 20px;
      }
      .title{
        letter-spacing: .18rem;
      }
      .sub{
        gap: 8px 10px;
        font-size: .95rem;
      }
      .badge{
        padding: 8px 10px;
      }
      .rings{
        grid-template-columns: repeat(2, minmax(132px, 1fr));
        gap: 12px;
      }
      .dial{
        width: 112px;
        height: 112px;
      }
      .value{
        font-size: 1.95rem;
      }
      .label{
        letter-spacing: .14rem;
      }
      .wish .line{
        font-size: 1.18rem;
        letter-spacing: .16rem;
      }
      .wish{
        gap: 8px;
      }
      .meta .k{
        gap: 10px;
      }
    }

    @media (prefers-reduced-motion: reduce){
      .lantern, .couplet, .marquee .track, .hongbao{ animation: none !important; }
    }
  </style>
</head>
<body>
  <canvas id="fx"></canvas>
  <div class="grain"></div>
  <div class="vignette"></div>

  <div class="lantern left"><div class="fu">福</div><div class="tassel"></div></div>
  <div class="lantern right"><div class="fu">福</div><div class="tassel"></div></div>

  <div class="couplet left"><span id="coupletLeft">爆竹声中辞旧岁</span></div>
  <div class="couplet right"><span id="coupletRight">梅花香里迎新春</span></div>

  <svg class="knot" viewBox="0 0 200 200" aria-hidden="true">
    <defs>
      <linearGradient id="knotRed" x1="0" x2="0" y1="0" y2="1">
        <stop offset="0" stop-color="#ff8a8a" stop-opacity=".95"/>
        <stop offset=".55" stop-color="#c31a1a" stop-opacity=".95"/>
        <stop offset="1" stop-color="#6b0505" stop-opacity=".95"/>
      </linearGradient>
      <linearGradient id="knotGold" x1="0" x2="1" y1="0" y2="1">
        <stop offset="0" stop-color="#fff1b8"/>
        <stop offset=".6" stop-color="#ffd36b"/>
        <stop offset="1" stop-color="#bf8b18"/>
      </linearGradient>
    </defs>
    <g fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path d="M100 18 C82 32 70 52 70 74 C70 99 88 118 100 126 C112 118 130 99 130 74 C130 52 118 32 100 18Z" stroke="url(#knotGold)" stroke-width="10" opacity=".55"/>
      <path d="M100 28 C88 38 80 54 80 74 C80 94 92 108 100 114 C108 108 120 94 120 74 C120 54 112 38 100 28Z" stroke="url(#knotRed)" stroke-width="16"/>
      <path d="M54 88 C42 74 36 60 36 50 C36 36 47 28 60 30 C72 32 82 46 92 62" stroke="url(#knotRed)" stroke-width="14"/>
      <path d="M146 88 C158 74 164 60 164 50 C164 36 153 28 140 30 C128 32 118 46 108 62" stroke="url(#knotRed)" stroke-width="14"/>
      <path d="M72 118 C58 132 50 150 50 164 C50 176 60 184 72 182 C84 180 94 166 100 154" stroke="url(#knotRed)" stroke-width="14"/>
      <path d="M128 118 C142 132 150 150 150 164 C150 176 140 184 128 182 C116 180 106 166 100 154" stroke="url(#knotRed)" stroke-width="14"/>
      <path d="M100 126 C86 138 74 154 74 168 C74 184 88 194 100 194 C112 194 126 184 126 168 C126 154 114 138 100 126Z" stroke="url(#knotGold)" stroke-width="10" opacity=".55"/>
      <path d="M100 134 C90 144 84 156 84 168 C84 176 92 184 100 184 C108 184 116 176 116 168 C116 156 110 144 100 134Z" stroke="url(#knotRed)" stroke-width="14"/>
    </g>
  </svg>

  <div class="stage">
    <div class="card" role="application" aria-label="2026年除夕倒计时">
      <div class="paper-cut" aria-hidden="true">
        <svg viewBox="0 0 200 200" role="presentation" focusable="false">
          <defs>
            <radialGradient id="pcg" cx="50%" cy="50%" r="60%">
              <stop offset="0" stop-color="rgba(255,255,255,.18)"/>
              <stop offset="1" stop-color="rgba(255,255,255,0)"/>
            </radialGradient>
          </defs>
          <circle cx="100" cy="100" r="92" fill="none" stroke="rgba(255,255,255,.14)" stroke-width="8"/>
          <circle cx="100" cy="100" r="72" fill="none" stroke="rgba(255,255,255,.10)" stroke-width="10"/>
          <path d="M100 36
                   C118 36 132 50 132 68
                   C132 82 122 94 110 100
                   C122 106 132 118 132 132
                   C132 150 118 164 100 164
                   C82 164 68 150 68 132
                   C68 118 78 106 90 100
                   C78 94 68 82 68 68
                   C68 50 82 36 100 36Z"
                fill="url(#pcg)" opacity=".85"/>
          <g fill="none" stroke="rgba(255,255,255,.14)" stroke-width="6" stroke-linecap="round">
            <path d="M100 52 L100 148"/>
            <path d="M52 100 L148 100"/>
            <path d="M66 66 L134 134"/>
            <path d="M134 66 L66 134"/>
          </g>
          <g fill="rgba(255,255,255,.10)">
            <circle cx="100" cy="60" r="6"/>
            <circle cx="100" cy="140" r="6"/>
            <circle cx="60" cy="100" r="6"/>
            <circle cx="140" cy="100" r="6"/>
          </g>
        </svg>
      </div>

      <div class="hongbao-stack" aria-hidden="true">
        <div class="hongbao back"></div>
        <div class="hongbao front"></div>
      </div>

      <div class="top">
        <div class="brand">
          <h1 class="title">2026年除夕倒计时</h1>
          <div class="sub">
            <div class="badge"><span class="dot"></span><span id="targetText">目标：2026-02-15 23:59</span></div>
            <div class="badge"><span class="dot"></span><span id="nowText">此刻：--</span></div>
          </div>
        </div>
        <div class="seal" aria-hidden="true"><span>福到</span></div>
      </div>

      <div class="grid">
        <section class="panel" aria-label="倒计时">
          <h2>离团圆还有</h2>
          <div class="rings" id="rings">
            <div class="ring" data-unit="days">
              <div class="dial" style="--p: 0deg"><div class="value" id="days">00</div></div>
              <div class="label">天</div>
            </div>
            <div class="ring" data-unit="hours">
              <div class="dial" style="--p: 0deg"><div class="value" id="hours">00</div></div>
              <div class="label">时</div>
            </div>
            <div class="ring" data-unit="minutes">
              <div class="dial" style="--p: 0deg"><div class="value" id="minutes">00</div></div>
              <div class="label">分</div>
            </div>
            <div class="ring" data-unit="seconds">
              <div class="dial" style="--p: 0deg"><div class="value" id="seconds">00</div></div>
              <div class="label">秒</div>
            </div>
          </div>

          <div class="wish">
            <div class="line" id="wishLine">辞旧迎新，阖家安康</div>
            <div class="hint" id="hintLine">点击任意位置可点亮一束烟花</div>
          </div>
        </section>

        <aside class="panel meta" aria-label="年味信息">
          <div class="cardlet">
            <h2>年味小卡</h2>
            <div class="k"><div class="l">生肖</div><div class="r">丙午 · 马年</div></div>
            <div class="k"><div class="l">节气氛围</div><div class="r" id="moodText">灯笼高挂</div></div>
            <div class="k"><div class="l">剩余总秒</div><div class="r" id="totalSeconds">--</div></div>
          </div>

          <div class="marquee" aria-label="祝福滚动条">
            <div class="track" id="track">
              <div class="item">新春大吉</div>
              <div class="item">阖家团圆</div>
              <div class="item">岁岁平安</div>
              <div class="item">财源广进</div>
              <div class="item">万事顺意</div>
              <div class="item">吉星高照</div>
              <div class="item">新春大吉</div>
              <div class="item">阖家团圆</div>
              <div class="item">岁岁平安</div>
              <div class="item">财源广进</div>
              <div class="item">万事顺意</div>
              <div class="item">吉星高照</div>
            </div>
          </div>

          <div class="foot">
            <div>红火，是因为有人在等你回家</div>
            <div id="tzText"></div>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <script>
    const target = new Date(2026, 1, 16, 23, 59, 59, 999);
    const $ = (id) => document.getElementById(id);

    const els = {
      days: $("days"),
      hours: $("hours"),
      minutes: $("minutes"),
      seconds: $("seconds"),
      nowText: $("nowText"),
      targetText: $("targetText"),
      totalSeconds: $("totalSeconds"),
      wishLine: $("wishLine"),
      hintLine: $("hintLine"),
      moodText: $("moodText"),
      coupletLeft: $("coupletLeft"),
      coupletRight: $("coupletRight"),
      rings: document.querySelectorAll(".ring"),
    };

    function applyRandomCouplet(){
      const couplets = [
        ["春回大地千山秀", "日照神州百业兴"],
        ["一帆风顺年年好", "万事如意步步高"],
        ["迎新春江山锦绣", "辞旧岁事泰辉煌"],
        ["福旺财旺运气旺", "家兴人兴事业兴"],
        ["红梅含苞傲冬雪", "绿柳吐絮迎新春"],
        ["岁岁平安添百福", "年年顺景纳千祥"],
        ["事事如意大吉祥", "家家顺心永安康"],
        ["喜居宝地千年旺", "福照家门万事兴"],
        ["金玉满堂家业旺", "鸿福齐天富贵长"],
        ["春风送暖入屠苏", "瑞雪迎祥满神州"],
        ["花开富贵家家乐", "灯照吉祥岁岁欢"],
        ["人和家顺百事兴", "国泰民安万象新"]
      ];

      let last = -1;
      try {
        const raw = sessionStorage.getItem("coupletIndex");
        if (raw != null) last = Number(raw);
      } catch {}

      let idx = (Math.random() * couplets.length) | 0;
      if (couplets.length > 1 && Number.isFinite(last) && last >= 0 && idx === last) {
        idx = (idx + 1 + ((Math.random() * (couplets.length - 1)) | 0)) % couplets.length;
      }

      try { sessionStorage.setItem("coupletIndex", String(idx)); } catch {}

      const [upper, lower] = couplets[idx];
      if (els.coupletRight) els.coupletRight.textContent = upper;
      if (els.coupletLeft) els.coupletLeft.textContent = lower;
    }

    function applyRandomMood(){
      const moods = [
        "除夕夜 · 阖家团圆",
        "守岁 · 灯火通明",
        "团圆饭 · 热气腾腾",
        "贴春联 · 红火迎新",
        "挂灯笼 · 喜庆满门",
        "扫尘 · 辞旧迎新",
        "福到 · 鸿运当头",
        "年味渐浓 · 归心似箭",
        "迎新春 · 万象更新",
        "开门红 · 好事连连",
        "拜年 · 吉祥如意",
        "压岁钱 · 福气满袋",
        "年货备齐 · 喜气盈门",
        "家家户户 · 张灯结彩",
        "爆竹声声 · 辞旧迎新",
        "烟花满城 · 新岁安康",
        "金玉满堂 · 富贵盈门",
        "瑞雪兆丰年 · 喜上眉梢",
        "红梅报春 · 春到人间",
        "春到福来 · 步步高升",
        "吉星高照 · 万事顺遂",
        "财神到 · 财源广进",
        "恭喜发财 · 福运绵长",
        "平安喜乐 · 岁岁年年"
      ];

      let last = -1;
      try {
        const raw = sessionStorage.getItem("moodIndex");
        if (raw != null) last = Number(raw);
      } catch {}

      let idx = (Math.random() * moods.length) | 0;
      if (moods.length > 1 && Number.isFinite(last) && last >= 0 && idx === last) {
        idx = (idx + 1 + ((Math.random() * (moods.length - 1)) | 0)) % moods.length;
      }

      try { sessionStorage.setItem("moodIndex", String(idx)); } catch {}
      if (els.moodText) els.moodText.textContent = moods[idx];
    }

    applyRandomCouplet();
    applyRandomMood();

    els.targetText.textContent = "目标：" + formatDate(target);
    try { $("tzText").textContent = ""; } catch {}

    function pad2(n){ return String(n).padStart(2,"0"); }

    function formatDate(d){
      const yyyy = d.getFullYear();
      const mm = pad2(d.getMonth()+1);
      const dd = pad2(d.getDate());
      const hh = pad2(d.getHours());
      const mi = pad2(d.getMinutes());
      return `${yyyy}-${mm}-${dd} ${hh}:${mi}`;
    }

    function setDial(unit, fraction){
      const ring = document.querySelector(`.ring[data-unit="${unit}"] .dial`);
      if (!ring) return;
      const clamped = Math.max(0, Math.min(1, fraction));
      ring.style.setProperty("--p", (clamped * 360).toFixed(2) + "deg");
    }

    let randomTimer = null;

    function update(){
      const now = new Date();
      els.nowText.textContent = "此刻：" + formatDate(now);

      const diff = target - now;
      if (diff <= 0){
        els.days.textContent = "00";
        els.hours.textContent = "00";
        els.minutes.textContent = "00";
        els.seconds.textContent = "00";
        els.totalSeconds.textContent = "0";
        els.wishLine.textContent = "除夕已至，团圆安康";
        els.hintLine.textContent = "新春烟火不停歇";
        els.moodText.textContent = "烟花满城";
        setDial("days", 1);
        setDial("hours", 1);
        setDial("minutes", 1);
        setDial("seconds", 1);
        ensureFinale();
        return;
      }

      const day = 24*60*60*1000;
      const hour = 60*60*1000;
      const minute = 60*1000;
      const second = 1000;

      const days = Math.floor(diff / day);
      const hours = Math.floor((diff % day) / hour);
      const minutes = Math.floor((diff % hour) / minute);
      const seconds = Math.floor((diff % minute) / second);

      els.days.textContent = pad2(days);
      els.hours.textContent = pad2(hours);
      els.minutes.textContent = pad2(minutes);
      els.seconds.textContent = pad2(seconds);
      els.totalSeconds.textContent = String(Math.floor(diff / 1000));

      setDial("seconds", 1 - (seconds / 60));
      setDial("minutes", 1 - (minutes / 60));
      setDial("hours", 1 - (hours / 24));
      setDial("days", 1 - ((diff % day) / day));
    }

    let timer = setInterval(update, 1000);
    update();

    const canvas = document.getElementById("fx");
    const ctx = canvas.getContext("2d");
    let w = 0, h = 0, dpr = 1;

    function resize(){
      dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      w = Math.floor(window.innerWidth * dpr);
      h = Math.floor(window.innerHeight * dpr);
      canvas.width = w;
      canvas.height = h;
    }
    window.addEventListener("resize", resize, { passive: true });
    resize();

    const sparks = [];
    const bursts = [];

    function rand(a,b){ return a + Math.random()*(b-a); }
    function pick(arr){ return arr[(Math.random()*arr.length)|0]; }

    const palette = [
      [255, 211, 107],
      [255, 140, 120],
      [255, 248, 220],
      [255, 85, 85],
      [191, 139, 24]
    ];

    function spawnBurst(x, y, intensity = 1){
      const base = pick(palette);
      const count = Math.floor(rand(42, 74) * intensity);
      bursts.push({ x, y, t: 0, base, count, r: rand(0.8, 1.2) });
      for (let i=0;i<count;i++){
        const a = Math.random() * Math.PI * 2;
        const sp = rand(1.8, 5.6) * dpr * (0.9 + 0.6*intensity);
        const life = rand(42, 76);
        const c = Math.random() < 0.35 ? pick(palette) : base;
        sparks.push({
          x, y,
          vx: Math.cos(a)*sp,
          vy: Math.sin(a)*sp - rand(0.2, 1.8)*dpr,
          g: rand(0.035, 0.06) * dpr,
          life,
          age: 0,
          c,
          size: rand(1.2, 2.4) * dpr
        });
      }
    }

    function draw(){
      ctx.clearRect(0,0,w,h);
      ctx.globalCompositeOperation = "lighter";

      for (let i=bursts.length-1;i>=0;i--){
        const b = bursts[i];
        b.t += 1;
        const p = Math.min(1, b.t / 28);
        const alpha = (1 - p) * 0.22;
        ctx.beginPath();
        ctx.arc(b.x, b.y, (40 + 140*p) * dpr * b.r, 0, Math.PI*2);
        ctx.fillStyle = `rgba(${b.base[0]},${b.base[1]},${b.base[2]},${alpha})`;
        ctx.fill();
        if (b.t > 34) bursts.splice(i,1);
      }

      for (let i=sparks.length-1;i>=0;i--){
        const s = sparks[i];
        s.age += 1;
        s.vy += s.g;
        s.x += s.vx;
        s.y += s.vy;
        s.vx *= 0.985;
        s.vy *= 0.985;

        const t = s.age / s.life;
        const a = Math.max(0, 1 - t);
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.size, 0, Math.PI*2);
        ctx.fillStyle = `rgba(${s.c[0]},${s.c[1]},${s.c[2]},${0.9*a})`;
        ctx.fill();

        if (t > 0.65){
          ctx.beginPath();
          ctx.arc(s.x, s.y, s.size*2.4, 0, Math.PI*2);
          ctx.fillStyle = `rgba(${s.c[0]},${s.c[1]},${s.c[2]},${0.20*a})`;
          ctx.fill();
        }

        if (s.age >= s.life || s.x < -50*dpr || s.x > w+50*dpr || s.y > h+60*dpr){
          sparks.splice(i,1);
        }
      }

      ctx.globalCompositeOperation = "source-over";
      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);

    function startAmbient(){
      if (randomTimer) return;
      randomTimer = setInterval(() => {
        const now = new Date();
        const diff = target - now;
        if (diff <= 0) return;
        if (Math.random() < 0.16){
          spawnBurst(rand(w*0.18, w*0.82), rand(h*0.18, h*0.55), rand(0.75, 1.15));
        }
      }, 800);
    }
    startAmbient();

    function ensureFinale(){
      if (randomTimer){
        clearInterval(randomTimer);
        randomTimer = null;
      }
      randomTimer = setInterval(() => {
        const k = rand(0.9, 1.6);
        spawnBurst(rand(w*0.18, w*0.82), rand(h*0.16, h*0.55), k);
        if (Math.random() < 0.45){
          spawnBurst(rand(w*0.22, w*0.78), rand(h*0.18, h*0.60), k);
        }
      }, 520);
    }

    window.addEventListener("pointerdown", (e) => {
      const x = e.clientX * dpr;
      const y = e.clientY * dpr;
      spawnBurst(x, y, rand(0.9, 1.4));
    }, { passive: true });
  </script>
</body>
</html>
