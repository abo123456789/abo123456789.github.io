<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LLMæ˜¾å­˜è®¡ç®—å™¨</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 900px;
      width: 100%;
    }

    h1 {
      text-align: center;
      color: #667eea;
      margin-bottom: 10px;
      font-size: 2em;
    }

    .subtitle {
      text-align: center;
      color: #888;
      margin-bottom: 30px;
    }

    .section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 25px;
    }

    .section h2 {
      color: #667eea;
      margin-bottom: 20px;
      font-size: 1.3em;
      border-bottom: 2px solid #667eea;
      padding-bottom: 10px;
    }

    .table-container {
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th,
    td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background: linear-gradient(145deg, #667eea, #764ba2);
      color: white;
      font-weight: bold;
    }

    tr:hover {
      background: #f0f4ff;
    }

    .highlight {
      background: #fff3cd !important;
      font-weight: bold;
    }

    .calculator {
      background: white;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .input-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: bold;
    }

    select,
    input {
      width: 100%;
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1em;
      transition: border-color 0.3s;
    }

    select:focus,
    input:focus {
      outline: none;
      border-color: #667eea;
    }

    .result {
      background: linear-gradient(145deg, #c8e6c9, #a5d6a7);
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
      text-align: center;
    }

    .result h3 {
      color: #2e7d32;
      font-size: 1.5em;
      margin-bottom: 10px;
    }

    .result .vram {
      font-size: 2.5em;
      font-weight: bold;
      color: #1b5e20;
    }

    .info-box {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 5px;
    }

    .warning-box {
      background: #fff3e0;
      border-left: 4px solid #ff9800;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 5px;
    }

    .tips {
      background: #f3e5f5;
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
    }

    .tips h3 {
      color: #7b1fa2;
      margin-bottom: 15px;
    }

    .tips ul {
      margin-left: 20px;
    }

    .tips li {
      margin-bottom: 10px;
      line-height: 1.6;
    }

    @media (max-width: 600px) {
      .container {
        padding: 20px;
      }

      h1 {
        font-size: 1.5em;
      }

      table {
        font-size: 0.9em;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>ğŸ–¥ï¸ LLMæ˜¾å­˜éœ€æ±‚è®¡ç®—å™¨</h1>
    <p class="subtitle">ä¸åŒè§„æ¨¡å¤§æ¨¡å‹æ˜¾å­˜å ç”¨ä¼°ç®—</p>

    <div class="section">
      <h2>ğŸ§® è‡ªå®šä¹‰è®¡ç®—å™¨</h2>
      <div class="calculator">
        <div class="input-group">
          <label>æ¨¡å‹å‚æ•°é‡ (B):</label>
          <input type="number" id="paramSize" value="9" min="1" max="1000" step="0.1">
        </div>

        <div class="input-group">
          <label>ç²¾åº¦ç±»å‹:</label>
          <select id="precision">
            <option value="4">FP32 (å…¨ç²¾åº¦) - 4 bytes</option>
            <option value="2">FP16 (åŠç²¾åº¦) - 2 bytes</option>
            <option value="1" selected>INT8 (8ä½é‡åŒ–) - 1 byte</option>
            <option value="0.5">INT4 (4ä½é‡åŒ–) - 0.5 bytes</option>
          </select>
        </div>

        <div class="input-group">
          <label>ä½¿ç”¨åœºæ™¯:</label>
          <select id="scenario">
            <option value="1.3" selected>æ¨ç† (1.3xå¼€é”€)</option>
            <option value="4">è®­ç»ƒ (4xå¼€é”€)</option>
            <option value="2">å¾®è°ƒ (2xå¼€é”€)</option>
          </select>
        </div>

        <div class="result">
          <h3>é¢„ä¼°æ˜¾å­˜éœ€æ±‚</h3>
          <div class="vram" id="vramResult">11.7 GB</div>
          <p style="margin-top: 10px; color: #555; font-size: 1.1em;" id="recommendation"></p>

          <div id="gpuRecommendations" style="margin-top: 20px; text-align: left;">
            <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ’³ æ¨èæ˜¾å¡é…ç½®ï¼š</h4>
            <div id="gpuList"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>ğŸ§® æ˜¾å­˜è®¡ç®—å…¬å¼è¯¦è§£</h2>
      <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
        <h3 style="color: #667eea; margin-bottom: 15px;">æ ¸å¿ƒå…¬å¼ï¼š</h3>
        <div
          style="background: #f0f4ff; padding: 20px; border-radius: 8px; margin-bottom: 15px; font-family: monospace; font-size: 1.1em;">
          <strong>æ€»æ˜¾å­˜ = æ¨¡å‹æƒé‡ + æ¿€æ´»å€¼ + KVç¼“å­˜ + æ¢¯åº¦ï¼ˆè®­ç»ƒï¼‰+ ä¼˜åŒ–å™¨çŠ¶æ€ï¼ˆè®­ç»ƒï¼‰</strong>
        </div>

        <h4 style="color: #764ba2; margin: 20px 0 10px 0;">1. æ¨¡å‹æƒé‡æ˜¾å­˜ï¼ˆå¿…éœ€ï¼‰</h4>
        <div style="background: #e8eaf6; padding: 15px; border-radius: 8px; font-family: monospace;">
          æƒé‡æ˜¾å­˜ = å‚æ•°é‡(B) Ã— ç²¾åº¦(bytes) Ã— 10^9<br>
          ä¾‹å¦‚ï¼š9B Ã— 1 byte (INT8) Ã— 10^9 = 9 GB
        </div>

        <h4 style="color: #764ba2; margin: 20px 0 10px 0;">2. æ¨ç†é¢å¤–å¼€é”€ï¼ˆçº¦30%ï¼‰</h4>
        <div style="background: #e8eaf6; padding: 15px; border-radius: 8px; font-family: monospace;">
          æ¨ç†æ˜¾å­˜ = æƒé‡æ˜¾å­˜ Ã— 1.3<br>
          åŒ…å«ï¼šæ¿€æ´»å€¼ç¼“å­˜ + KVç¼“å­˜ + è¾“å…¥è¾“å‡ºbuffer<br>
          ä¾‹å¦‚ï¼š9 GB Ã— 1.3 = 11.7 GB
        </div>

        <h4 style="color: #764ba2; margin: 20px 0 10px 0;">3. è®­ç»ƒé¢å¤–å¼€é”€ï¼ˆçº¦4å€ï¼‰</h4>
        <div style="background: #e8eaf6; padding: 15px; border-radius: 8px; font-family: monospace;">
          è®­ç»ƒæ˜¾å­˜ = æƒé‡æ˜¾å­˜ Ã— 4<br>
          åŒ…å«ï¼šæ¨¡å‹æƒé‡ + æ¢¯åº¦ + ä¼˜åŒ–å™¨çŠ¶æ€(Adaméœ€è¦2ä»½) + æ¿€æ´»å€¼<br>
          ä¾‹å¦‚ï¼š9 GB Ã— 4 = 36 GB
        </div>

        <h4 style="color: #764ba2; margin: 20px 0 10px 0;">4. å®Œæ•´å…¬å¼</h4>
        <div style="background: #fff3e0; padding: 15px; border-radius: 8px; font-family: monospace; font-weight: bold;">
          æ˜¾å­˜(GB) = å‚æ•°(B) Ã— ç²¾åº¦(bytes) Ã— åœºæ™¯ç³»æ•° Ã— 10^9 / 10^9<br><br>

          åœºæ™¯ç³»æ•°ï¼š<br>
          â€¢ æ¨ç†(Inference) = 1.3<br>
          â€¢ å¾®è°ƒ(LoRA) = 2.0<br>
          â€¢ å…¨é‡è®­ç»ƒ(Full Training) = 4.0
        </div>
      </div>
    </div>

    <div class="section">
      <h2>ğŸ“Š 8Bæ¨¡å‹æ˜¾å­˜éœ€æ±‚è¡¨</h2>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>ç²¾åº¦ç±»å‹</th>
              <th>æ¯å‚æ•°æ˜¾å­˜</th>
              <th>æ¨¡å‹æƒé‡</th>
              <th>æ¨ç†æ˜¾å­˜</th>
              <th>è®­ç»ƒæ˜¾å­˜</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>FP32 (å…¨ç²¾åº¦)</strong></td>
              <td>4 bytes</td>
              <td>32 GB</td>
              <td>42 GB</td>
              <td>128 GB</td>
            </tr>
            <tr>
              <td><strong>FP16 (åŠç²¾åº¦)</strong></td>
              <td>2 bytes</td>
              <td>16 GB</td>
              <td>21 GB</td>
              <td>64 GB</td>
            </tr>
            <tr class="highlight">
              <td><strong>INT8 (8ä½é‡åŒ–)</strong></td>
              <td>1 byte</td>
              <td>8 GB</td>
              <td>10.4 GB</td>
              <td>32 GB</td>
            </tr>
            <tr class="highlight">
              <td><strong>INT4 (4ä½é‡åŒ–)</strong></td>
              <td>0.5 bytes</td>
              <td>4 GB</td>
              <td>5.2 GB</td>
              <td>16 GB</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="info-box">
        <strong>ğŸ’¡ æ¨èé…ç½®ï¼ˆ8Bæ¨¡å‹ï¼‰ï¼š</strong>
        <ul style="margin-top: 10px; margin-left: 20px;">
          <li><strong>RTX 3060 (12GB)</strong> - INT8é‡åŒ–ï¼Œæ¨ç†æµç•… âœ…</li>
          <li><strong>RTX 4060 Ti (16GB)</strong> - INT8é‡åŒ–ï¼Œæ¨ç†èˆ’é€‚ âœ…</li>
          <li><strong>RTX 4060 (8GB)</strong> - INT4é‡åŒ–ï¼Œå‹‰å¼ºå¯ç”¨ âš ï¸</li>
        </ul>
      </div>

      <div style="background: #e8f5e9; padding: 15px; border-radius: 8px; margin-top: 15px;">
        <strong>ğŸ“ è®¡ç®—ç¤ºä¾‹ï¼ˆ8B INT8æ¨ç†ï¼‰ï¼š</strong><br>
        <code style="background: white; padding: 10px; display: block; margin-top: 10px; border-radius: 5px;">
                    æƒé‡æ˜¾å­˜ = 8B Ã— 1 byte = 8 GB<br>
                    æ¨ç†æ˜¾å­˜ = 8 GB Ã— 1.3 = 10.4 GB<br>
                    ç»“è®ºï¼šè‡³å°‘éœ€è¦ 12GB æ˜¾å­˜
                </code>
      </div>
    </div>

    <div class="section">
      <h2>ğŸ“Š 9Bæ¨¡å‹æ˜¾å­˜éœ€æ±‚è¡¨</h2>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>ç²¾åº¦ç±»å‹</th>
              <th>æ¯å‚æ•°æ˜¾å­˜</th>
              <th>æ¨¡å‹æƒé‡</th>
              <th>æ¨ç†æ˜¾å­˜</th>
              <th>è®­ç»ƒæ˜¾å­˜</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>FP32 (å…¨ç²¾åº¦)</strong></td>
              <td>4 bytes</td>
              <td>36 GB</td>
              <td>47 GB</td>
              <td>144 GB</td>
            </tr>
            <tr>
              <td><strong>FP16 (åŠç²¾åº¦)</strong></td>
              <td>2 bytes</td>
              <td>18 GB</td>
              <td>23 GB</td>
              <td>72 GB</td>
            </tr>
            <tr class="highlight">
              <td><strong>INT8 (8ä½é‡åŒ–)</strong></td>
              <td>1 byte</td>
              <td>9 GB</td>
              <td>11.7 GB</td>
              <td>36 GB</td>
            </tr>
            <tr class="highlight">
              <td><strong>INT4 (4ä½é‡åŒ–)</strong></td>
              <td>0.5 bytes</td>
              <td>4.5 GB</td>
              <td>5.9 GB</td>
              <td>18 GB</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="info-box">
        <strong>ğŸ’¡ æ¨èé…ç½®ï¼ˆ9Bæ¨¡å‹ï¼‰ï¼š</strong>
        <ul style="margin-top: 10px; margin-left: 20px;">
          <li><strong>RTX 4060 Ti (16GB)</strong> - INT8é‡åŒ–ï¼Œæ¨ç†æµç•… âœ…</li>
          <li><strong>RTX 3090/4090 (24GB)</strong> - INT8é‡åŒ–ï¼Œæ¨ç†èˆ’é€‚ âœ…</li>
          <li><strong>RTX 3060 (12GB)</strong> - INT4é‡åŒ–ï¼Œç´§å¼ ä½†å¯ç”¨ âš ï¸</li>
        </ul>
      </div>

      <div style="background: #e8f5e9; padding: 15px; border-radius: 8px; margin-top: 15px;">
        <strong>ğŸ“ è®¡ç®—ç¤ºä¾‹ï¼ˆ9B INT8æ¨ç†ï¼‰ï¼š</strong><br>
        <code style="background: white; padding: 10px; display: block; margin-top: 10px; border-radius: 5px;">
                    æƒé‡æ˜¾å­˜ = 9B Ã— 1 byte = 9 GB<br>
                    æ¨ç†æ˜¾å­˜ = 9 GB Ã— 1.3 = 11.7 GB<br>
                    ç»“è®ºï¼šè‡³å°‘éœ€è¦ 16GB æ˜¾å­˜
                </code>
      </div>
    </div>

    <div class="section">
      <h2>ğŸ“Š 32Bæ¨¡å‹æ˜¾å­˜éœ€æ±‚è¡¨</h2>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>ç²¾åº¦ç±»å‹</th>
              <th>æ¯å‚æ•°æ˜¾å­˜</th>
              <th>æ¨¡å‹æƒé‡</th>
              <th>æ¨ç†æ˜¾å­˜</th>
              <th>è®­ç»ƒæ˜¾å­˜</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>FP32 (å…¨ç²¾åº¦)</strong></td>
              <td>4 bytes</td>
              <td>128 GB</td>
              <td>166 GB</td>
              <td>512 GB</td>
            </tr>
            <tr>
              <td><strong>FP16 (åŠç²¾åº¦)</strong></td>
              <td>2 bytes</td>
              <td>64 GB</td>
              <td>83 GB</td>
              <td>256 GB</td>
            </tr>
            <tr class="highlight">
              <td><strong>INT8 (8ä½é‡åŒ–)</strong></td>
              <td>1 byte</td>
              <td>32 GB</td>
              <td>41.6 GB</td>
              <td>128 GB</td>
            </tr>
            <tr class="highlight">
              <td><strong>INT4 (4ä½é‡åŒ–)</strong></td>
              <td>0.5 bytes</td>
              <td>16 GB</td>
              <td>20.8 GB</td>
              <td>64 GB</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="warning-box">
        <strong>âš ï¸ æ¨èé…ç½®ï¼ˆ32Bæ¨¡å‹ï¼‰ï¼š</strong>
        <ul style="margin-top: 10px; margin-left: 20px;">
          <li><strong>A100 40GB</strong> - INT8é‡åŒ–ï¼Œæ¨ç†å¯ç”¨ï¼ˆç´§å¼ ï¼‰</li>
          <li><strong>A100 80GB</strong> - INT8é‡åŒ–ï¼Œæ¨ç†èˆ’é€‚ âœ…</li>
          <li><strong>H100 80GB</strong> - INT8é‡åŒ–ï¼Œæ¨ç†æœ€ä½³ âœ…</li>
          <li><strong>RTX 4090 (24GB)</strong> - INT4é‡åŒ–ï¼Œæ¨ç†å¯ç”¨ âš ï¸</li>
          <li><strong>å¤šå¡æ–¹æ¡ˆ</strong> - 2Ã—RTX 4090 æˆ– 2Ã—A6000</li>
        </ul>
      </div>

      <div style="background: #fff3e0; padding: 15px; border-radius: 8px; margin-top: 15px;">
        <strong>ğŸ“ è®¡ç®—ç¤ºä¾‹ï¼ˆ32B INT8æ¨ç†ï¼‰ï¼š</strong><br>
        <code style="background: white; padding: 10px; display: block; margin-top: 10px; border-radius: 5px;">
                    æƒé‡æ˜¾å­˜ = 32B Ã— 1 byte = 32 GB<br>
                    æ¨ç†æ˜¾å­˜ = 32 GB Ã— 1.3 = 41.6 GB<br>
                    ç»“è®ºï¼šè‡³å°‘éœ€è¦ 48GB æ˜¾å­˜ï¼ˆæ¨èA100 80GBæˆ–åŒå¡ï¼‰
                </code>
      </div>

      <div style="background: #ffebee; padding: 15px; border-radius: 8px; margin-top: 15px;">
        <strong>ğŸš« ä¸æ¨èé…ç½®ï¼š</strong><br>
        æ¶ˆè´¹çº§æ˜¾å¡ï¼ˆRTX 40/30ç³»åˆ—ï¼‰éš¾ä»¥å•å¡è¿è¡Œ32Bæ¨¡å‹<br>
        å³ä½¿INT4é‡åŒ–ä¹Ÿéœ€è¦çº¦21GBæ˜¾å­˜ï¼Œæ¥è¿‘24GBä¸Šé™ï¼Œå®é™…ä½¿ç”¨ä¼šé¢‘ç¹OOM
      </div>
    </div>

    <!-- <div class="section">
      <h2>ğŸ§® è‡ªå®šä¹‰è®¡ç®—å™¨</h2>
      <div class="calculator">
        <div class="input-group">
          <label>æ¨¡å‹å‚æ•°é‡ (B):</label>
          <input type="number" id="paramSize" value="9" min="1" max="1000" step="0.1">
        </div>

        <div class="input-group">
          <label>ç²¾åº¦ç±»å‹:</label>
          <select id="precision">
            <option value="4">FP32 (å…¨ç²¾åº¦) - 4 bytes</option>
            <option value="2">FP16 (åŠç²¾åº¦) - 2 bytes</option>
            <option value="1" selected>INT8 (8ä½é‡åŒ–) - 1 byte</option>
            <option value="0.5">INT4 (4ä½é‡åŒ–) - 0.5 bytes</option>
          </select>
        </div>

        <div class="input-group">
          <label>ä½¿ç”¨åœºæ™¯:</label>
          <select id="scenario">
            <option value="1.3" selected>æ¨ç† (1.3xå¼€é”€)</option>
            <option value="4">è®­ç»ƒ (4xå¼€é”€)</option>
            <option value="2">å¾®è°ƒ (2xå¼€é”€)</option>
          </select>
        </div>

        <div class="result">
          <h3>é¢„ä¼°æ˜¾å­˜éœ€æ±‚</h3>
          <div class="vram" id="vramResult">11.7 GB</div>
          <p style="margin-top: 10px; color: #555;" id="recommendation"></p>
        </div>
      </div>
    </div> -->

    <div class="section">
      <h2>ğŸ“ˆ å¸¸è§æ¨¡å‹æ˜¾å­˜å¯¹æ¯”ï¼ˆå«8Bã€9Bã€32Bï¼‰</h2>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>æ¨¡å‹è§„æ¨¡</th>
              <th>INT8æ¨ç†</th>
              <th>INT4æ¨ç†</th>
              <th>æ¨èæ˜¾å¡</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>7B</td>
              <td>9.1 GB</td>
              <td>4.6 GB</td>
              <td>RTX 3060 12GB+</td>
            </tr>
            <tr class="highlight">
              <td>8B</td>
              <td>10.4 GB</td>
              <td>5.2 GB</td>
              <td>RTX 3060 12GB+ âœ…</td>
            </tr>
            <tr class="highlight">
              <td>9B</td>
              <td>11.7 GB</td>
              <td>5.9 GB</td>
              <td>RTX 4060 Ti 16GB+ âœ…</td>
            </tr>
            <tr>
              <td>13B</td>
              <td>16.9 GB</td>
              <td>8.5 GB</td>
              <td>RTX 3090 24GB+</td>
            </tr>
            <tr class="highlight">
              <td>32B</td>
              <td>41.6 GB</td>
              <td>20.8 GB</td>
              <td>A100 80GB / RTX 4090Ã—2 âš ï¸</td>
            </tr>
            <tr>
              <td>34B</td>
              <td>44.2 GB</td>
              <td>22.1 GB</td>
              <td>A100 80GB</td>
            </tr>
            <tr>
              <td>70B</td>
              <td>91 GB</td>
              <td>45.5 GB</td>
              <td>A100 80GBÃ—2 æˆ– H100</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-top: 15px;">
        <strong>ğŸ“Š è®¡ç®—å…¬å¼åº”ç”¨ç¤ºä¾‹ï¼š</strong>
        <div
          style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
          <div style="background: white; padding: 15px; border-radius: 8px;">
            <strong style="color: #1976d2;">8Bæ¨¡å‹ (INT8)</strong><br>
            <code style="font-size: 0.9em;">
                            8B Ã— 1 Ã— 1.3 = 10.4 GB
                        </code>
          </div>
          <div style="background: white; padding: 15px; border-radius: 8px;">
            <strong style="color: #1976d2;">9Bæ¨¡å‹ (INT8)</strong><br>
            <code style="font-size: 0.9em;">
                            9B Ã— 1 Ã— 1.3 = 11.7 GB
                        </code>
          </div>
          <div style="background: white; padding: 15px; border-radius: 8px;">
            <strong style="color: #1976d2;">32Bæ¨¡å‹ (INT8)</strong><br>
            <code style="font-size: 0.9em;">
                            32B Ã— 1 Ã— 1.3 = 41.6 GB
                        </code>
          </div>
          <div style="background: white; padding: 15px; border-radius: 8px;">
            <strong style="color: #1976d2;">32Bæ¨¡å‹ (INT4)</strong><br>
            <code style="font-size: 0.9em;">
                            32B Ã— 0.5 Ã— 1.3 = 20.8 GB
                        </code>
          </div>
        </div>
      </div>
    </div>

    <div class="tips">
      <h3>ğŸ’¡ ä¼˜åŒ–å»ºè®®</h3>
      <ul>
        <li><strong>ä½¿ç”¨é‡åŒ–ï¼š</strong>INT8å¯å‡å°‘50%æ˜¾å­˜ï¼ŒINT4å¯å‡å°‘75%æ˜¾å­˜ï¼Œç²¾åº¦æŸå¤±å¾ˆå°</li>
        <li><strong>ä½¿ç”¨FlashAttentionï¼š</strong>å¯å‡å°‘20-30%çš„æ¨ç†æ˜¾å­˜å ç”¨</li>
        <li><strong>å‡å°‘batch sizeï¼š</strong>å¦‚æœæ˜¾å­˜ä¸å¤Ÿï¼Œé™ä½æ‰¹æ¬¡å¤§å°</li>
        <li><strong>ä½¿ç”¨CPU offloadï¼š</strong>éƒ¨åˆ†å±‚æ”¾åˆ°CPUï¼Œç‰ºç‰²é€Ÿåº¦æ¢æ˜¾å­˜</li>
        <li><strong>ä½¿ç”¨LoRAå¾®è°ƒï¼š</strong>è®­ç»ƒæ—¶åªéœ€è¦åŸæ˜¾å­˜çš„1/10å·¦å³</li>
        <li><strong>8-bitä¼˜åŒ–å™¨ï¼š</strong>è®­ç»ƒæ—¶ä½¿ç”¨bitsandbytesåº“å¯å¤§å¹…é™ä½æ˜¾å­˜</li>
      </ul>
    </div>

    <div class="warning-box">
      <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong>
      <ul style="margin-top: 10px; margin-left: 20px;">
        <li>ä»¥ä¸Šä¸ºç†è®ºä¼°ç®—ï¼Œå®é™…æ˜¾å­˜å ç”¨å—æ¡†æ¶ã€ä¼˜åŒ–ã€ä¸Šä¸‹æ–‡é•¿åº¦ç­‰å½±å“</li>
        <li>æ¨ç†æ˜¾å­˜ = æ¨¡å‹æƒé‡ + æ¿€æ´»å€¼ + KVç¼“å­˜ + è¾“å…¥è¾“å‡ºç¼“å†²</li>
        <li>å»ºè®®é¢„ç•™20-30%çš„æ˜¾å­˜ä½™é‡ï¼Œé¿å…OOMé”™è¯¯</li>
        <li>é•¿æ–‡æœ¬æ¨ç†æ—¶KVç¼“å­˜ä¼šå ç”¨é¢å¤–æ˜¾å­˜</li>
      </ul>
    </div>
  </div>

  <script>
    function calculate() {
      const paramSize = parseFloat(document.getElementById('paramSize').value);
      const precision = parseFloat(document.getElementById('precision').value);
      const scenario = parseFloat(document.getElementById('scenario').value);

      const baseVRAM = paramSize * precision;
      const totalVRAM = baseVRAM * scenario;

      document.getElementById('vramResult').textContent = totalVRAM.toFixed(1) + ' GB';

      let recommendation = '';
      if (totalVRAM <= 8) {
        recommendation = 'âœ… å…¥é—¨çº§æ˜¾å¡å³å¯æ»¡è¶³';
      } else if (totalVRAM <= 12) {
        recommendation = 'âœ… ä¸»æµçº§æ˜¾å¡å¯ä»¥æµç•…è¿è¡Œ';
      } else if (totalVRAM <= 16) {
        recommendation = 'âœ… é«˜ç«¯æ¶ˆè´¹çº§æ˜¾å¡æ¨è';
      } else if (totalVRAM <= 24) {
        recommendation = 'âœ… æ——èˆ°æ¶ˆè´¹çº§æ˜¾å¡æˆ–ä¸“ä¸šå¡';
      } else if (totalVRAM <= 40) {
        recommendation = 'âš ï¸ éœ€è¦ä¸“ä¸šçº§æ•°æ®ä¸­å¿ƒæ˜¾å¡';
      } else if (totalVRAM <= 80) {
        recommendation = 'âš ï¸ éœ€è¦é¡¶çº§æ•°æ®ä¸­å¿ƒæ˜¾å¡';
      } else {
        recommendation = 'âš ï¸ éœ€è¦å¤šå¡å¹¶è¡Œæˆ–äº‘ç«¯éƒ¨ç½²';
      }

      document.getElementById('recommendation').textContent = recommendation;

      // ç”Ÿæˆæ˜¾å¡æ¨èåˆ—è¡¨
      generateGPURecommendations(totalVRAM);
    }

    function generateGPURecommendations(vram) {
      const gpuList = document.getElementById('gpuList');

      // å®šä¹‰æ˜¾å¡æ•°æ®åº“
      const gpus = [
        // æ¶ˆè´¹çº§æ˜¾å¡
        { name: 'RTX 4060', vram: 8, price: 'Â¥2,499', type: 'consumer', performance: 'â­â­' },
        { name: 'RTX 3060', vram: 12, price: 'Â¥2,299', type: 'consumer', performance: 'â­â­â­' },
        { name: 'RTX 4060 Ti 16GB', vram: 16, price: 'Â¥3,999', type: 'consumer', performance: 'â­â­â­' },
        { name: 'RTX 4070 Ti', vram: 12, price: 'Â¥6,499', type: 'consumer', performance: 'â­â­â­â­' },
        { name: 'RTX 3090', vram: 24, price: 'Â¥6,999', type: 'consumer', performance: 'â­â­â­â­â­' },
        { name: 'RTX 4080', vram: 16, price: 'Â¥9,499', type: 'consumer', performance: 'â­â­â­â­' },
        { name: 'RTX 4090', vram: 24, price: 'Â¥12,999', type: 'consumer', performance: 'â­â­â­â­â­' },

        // ä¸“ä¸šçº§æ˜¾å¡
        { name: 'RTX A4000', vram: 16, price: 'Â¥8,000', type: 'professional', performance: 'â­â­â­' },
        { name: 'RTX A5000', vram: 24, price: 'Â¥15,000', type: 'professional', performance: 'â­â­â­â­' },
        { name: 'RTX A6000', vram: 48, price: 'Â¥35,000', type: 'professional', performance: 'â­â­â­â­â­' },
        { name: 'A100 40GB', vram: 40, price: 'Â¥50,000+', type: 'datacenter', performance: 'â­â­â­â­â­' },
        { name: 'A100 80GB', vram: 80, price: 'Â¥90,000+', type: 'datacenter', performance: 'â­â­â­â­â­' },
        { name: 'H100 80GB', vram: 80, price: 'Â¥200,000+', type: 'datacenter', performance: 'â­â­â­â­â­' },
      ];

      // ç­›é€‰åˆé€‚çš„æ˜¾å¡ï¼ˆæ˜¾å­˜éœ€è¦å¤§äºç­‰äºéœ€æ±‚çš„1.2å€ï¼Œç•™æœ‰ä½™é‡ï¼‰
      const minVRAM = vram * 1.0; // æœ€ä½è¦æ±‚
      const idealVRAM = vram * 1.2; // ç†æƒ³æ˜¾å­˜ï¼ˆç•™20%ä½™é‡ï¼‰

      const suitable = gpus.filter(gpu => gpu.vram >= minVRAM);
      const ideal = gpus.filter(gpu => gpu.vram >= idealVRAM);

      let html = '';

      if (ideal.length > 0) {
        // æ¨èæ˜¾å¡ï¼ˆæœ‰ä½™é‡ï¼‰
        html += '<div style="background: #e8f5e9; padding: 12px; border-radius: 8px; margin-bottom: 10px;">';
        html += '<strong style="color: #2e7d32;">âœ… æ¨èé…ç½®ï¼ˆæœ‰ä½™é‡ï¼Œè¿è¡Œèˆ’é€‚ï¼‰ï¼š</strong><br>';
        ideal.slice(0, 3).forEach(gpu => {
          const typeLabel = gpu.type === 'consumer' ? 'æ¶ˆè´¹çº§' : gpu.type === 'professional' ? 'ä¸“ä¸šçº§' : 'æ•°æ®ä¸­å¿ƒ';
          html += `<div style="margin: 8px 0; padding: 8px; background: white; border-radius: 5px;">`;
          html += `<strong>${gpu.name}</strong> (${gpu.vram}GB) - ${typeLabel}<br>`;
          html += `<span style="color: #666; font-size: 0.9em;">å‚è€ƒä»·æ ¼: ${gpu.price} | æ€§èƒ½: ${gpu.performance}</span>`;
          html += `</div>`;
        });
        html += '</div>';
      }

      if (suitable.length > ideal.length) {
        // å‹‰å¼ºå¤Ÿç”¨çš„æ˜¾å¡
        const tight = suitable.filter(gpu => gpu.vram < idealVRAM && gpu.vram >= minVRAM);
        if (tight.length > 0) {
          html += '<div style="background: #fff3e0; padding: 12px; border-radius: 8px; margin-bottom: 10px;">';
          html += '<strong style="color: #e65100;">âš ï¸ ç´§å¼ ä½†å¯ç”¨ï¼ˆå»ºè®®é™ä½batch sizeæˆ–åºåˆ—é•¿åº¦ï¼‰ï¼š</strong><br>';
          tight.slice(0, 2).forEach(gpu => {
            const typeLabel = gpu.type === 'consumer' ? 'æ¶ˆè´¹çº§' : gpu.type === 'professional' ? 'ä¸“ä¸šçº§' : 'æ•°æ®ä¸­å¿ƒ';
            html += `<div style="margin: 8px 0; padding: 8px; background: white; border-radius: 5px;">`;
            html += `<strong>${gpu.name}</strong> (${gpu.vram}GB) - ${typeLabel}<br>`;
            html += `<span style="color: #666; font-size: 0.9em;">å‚è€ƒä»·æ ¼: ${gpu.price} | æ€§èƒ½: ${gpu.performance}</span>`;
            html += `</div>`;
          });
          html += '</div>';
        }
      }

      if (suitable.length === 0) {
        html += '<div style="background: #ffebee; padding: 12px; border-radius: 8px;">';
        html += '<strong style="color: #c62828;">âŒ å•å¡éš¾ä»¥æ»¡è¶³ï¼Œå»ºè®®æ–¹æ¡ˆï¼š</strong><br>';
        html += '<ul style="margin: 10px 0 0 20px;">';
        html += '<li>ä½¿ç”¨å¤šå¡å¹¶è¡Œï¼ˆ2-4å¼ RTX 4090/A6000ï¼‰</li>';
        html += '<li>ä½¿ç”¨äº‘ç«¯GPUæœåŠ¡ï¼ˆAWS/é˜¿é‡Œäº‘/è…¾è®¯äº‘ï¼‰</li>';
        html += '<li>ä½¿ç”¨æ›´æ¿€è¿›çš„é‡åŒ–æ–¹æ¡ˆï¼ˆINT4/INT3ï¼‰</li>';
        html += '<li>ä½¿ç”¨æ¨¡å‹åˆ†ç‰‡æŠ€æœ¯ï¼ˆDeepSpeed ZeROç­‰ï¼‰</li>';
        html += '</ul>';
        html += '</div>';
      }

      // æ·»åŠ æ€§ä»·æ¯”æ¨è
      if (suitable.length > 0) {
        const bestValue = suitable.filter(gpu => gpu.type === 'consumer')[0];
        if (bestValue) {
          html += '<div style="background: #f3e5f5; padding: 12px; border-radius: 8px; margin-top: 10px;">';
          html += `<strong style="color: #7b1fa2;">ğŸ’° æ€§ä»·æ¯”ä¹‹é€‰ï¼š${bestValue.name}</strong><br>`;
          html += `<span style="font-size: 0.9em;">å¯¹äºä¸ªäººç”¨æˆ·ï¼Œè¿™æ˜¯æœ€å…·æ€§ä»·æ¯”çš„é€‰æ‹©</span>`;
          html += '</div>';
        }
      }

      gpuList.innerHTML = html;
    }

    document.getElementById('paramSize').addEventListener('input', calculate);
    document.getElementById('precision').addEventListener('change', calculate);
    document.getElementById('scenario').addEventListener('change', calculate);

    calculate();
  </script>
</body>

</html>